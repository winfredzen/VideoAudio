# 视频编解码一

## SPS

参考：

+ [H264码流中SPS PPS详解](https://zhuanlan.zhihu.com/p/27896239)

> 在 H.264 标准协议中规定了多种不同的 NAL Unit 类型，其中类型 7 表示该 NAL Unit 内保存的数据为 Sequence Paramater Set（序列参数集）。
>
> 在 H.264 的各种语法元素中，SPS 中的信息至关重要。如果其中的数据丢失或出现错误，那么解码过程很可能会失败。
>
> SPS 即 Sequence Paramater Set，又称作序列参数集。SPS 中保存了一组编码视频序列 (Coded video sequence) 的全局参数。所谓的编码视频序列即原始视频的一帧一帧的像素数据经过编码之后的结构组成的序列。而每一帧的编码后数据所依赖的参数保存于图像参数集中。一般情况 SPS 和 PPS 的 NAL Unit 通常位于整个码流的起始位置。但在某些特殊情况下，在码流中间也可能出现这两种结构，主要原因可能为：
>
> - 解码器需要在码流中间开始解码
> - 编码器在编码的过程中改变了码流的参数（如图像分辨率等）



### Profile & Level

**H264 Profile**

对视频压缩特性的描述，Profile越高，就说明采用了越高级的压缩特性

> **profile_idc**
>
> 标识当前H.264码流的profile。我们知道，H.264中定义了三种常用的档次profile：
>
> 基准档次：baseline profile;
>
> 主要档次：main profile;
>
> 扩展档次：extended profile;
>
> 在H.264的SPS中，第一个字节表示profile_idc，根据profile_idc的值可以确定码流符合哪一种档次。判断规律为：
>
> profile_idc = 66 → baseline profile;
>
> profile_idc = 77 → main profile;
>
> profile_idc = 88 → extended profile;
>
> 在新版的标准中，还包括了High、High 10、High 4:2:2、High 4:4:4、High 10 Intra、High
> 4:2:2 Intra、High 4:4:4 Intra、CAVLC 4:4:4 Intra等，每一种都由不同的profile_idc表示。

![089](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/089.png)

![090](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/090.png)

**H264 Level**

对视频规格的描述，Level越高，视频的码率、分辨率、fps越高

>  **level_idc**
>
> 标识当前码流的Level。编码的Level定义了某种条件下的最大视频分辨率、最大视频帧率等参数，码流所遵从的level由level_idc指定。
>
> 当前码流中，level_idc = 0x1e = 30，因此码流的级别为3。

![091](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/091.png)



## 其它参数

![092](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/021.png)
