# YUV视频采集

在Mac上采集YUV视频，大致过程与采集音频PCM数据类似

有一下需要注意的地方：

1.app的摄像头权限

2.如果没有设置帧率，控制输出会提示如下的内容，表示默认的帧率不被支持，并列出支持的帧率

![066](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/066.png)

![067](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/067.png)

3.默认的采样格式yuv420p，mac不支持，会有如下的提示，默认使用的是`uyvy422`

![068](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/068.png)

4.注意`AVPacket`采样大小，如下：

![069](https://github.com/winfredzen/VideoAudio/blob/main/Basic/image/069.png)

如何计算大小对不对呢？

比如采样的大小是`640x480`，按`yuv422`算，一帧大小为`(640*480*1 + 640*480*0.5*2 = 61440) `

即y分量一个字节，u、v分量各0.5个字节



